# Роудмап: Реализация темной темы для всего сайта

## Статус проекта
- **Дата создания:** 2025-11-19
- **Последнее обновление:** 2025-11-19
- **Статус:** В процессе (70% завершено)

---

## Фаза 1: Инфраструктура темной темы ✅

### 1.1 Настройка CSS переменных ✅
- [x] Создать CSS переменные для светлой темы в `style.css`
- [x] Создать CSS переменные для темной темы (Midnight palette: Slate 950/900)
- [x] Определить цветовую схему:
  - `--bg-body`: #ffffff (light) / #020617 (dark)
  - `--bg-card`: #ffffff (light) / #0f172a (dark)
  - `--text-main`: #212529 (light) / #f8fafc (dark)
  - `--text-muted`: #6c757d (light) / #94a3b8 (dark)
  - `--border-soft`: #e9ecef (light) / #1e293b (dark)
- [x] **Рефакторинг выполнен:** Код проверен, переменные применены глобально

### 1.2 Настройка Tailwind CSS для темной темы ✅
- [x] Добавить конфигурацию `darkMode: 'class'` в Tailwind
- [x] Расширить палитру цветов (Slate 850, 900, 950)
- [x] Настроить скрипт для применения класса `dark` на `<html>` элементе
- [x] **Рефакторинг выполнен:** Конфигурация оптимизирована

### 1.3 Создание переключателя темы ✅
- [x] Добавить кнопку переключения в navbar (`base.html`)
- [x] Создать иконки для светлой/темной темы (солнце/луна)
- [x] Реализовать JavaScript для переключения темы
- [x] Добавить сохранение выбора в `localStorage`
- [x] Реализовать респект системных настроек (`prefers-color-scheme`)
- [x] **Рефакторинг выполнен:** JavaScript оптимизирован, убраны дубликаты кода

---

## Фаза 2: Применение темной темы к основным компонентам ✅

### 2.1 Базовый шаблон (base.html) ✅
- [x] Обновить `<body>` с классами `dark:bg-slate-950`
- [x] Обновить `<nav>` с классами `dark:bg-slate-900`
- [x] Добавить плавные переходы (`transition-colors duration-300`)
- [x] Обновить footer для темной темы
- [x] Проверить dropdown меню в navbar
- [x] **Рефакторинг выполнен:** Код оптимизирован, убраны неиспользуемые классы

### 2.2 Главная страница (home.html) ✅
- [x] Применить `dark:` классы к hero-секции
- [x] Обновить feature cards для темной темы
- [x] Обновить category cards
- [x] Обновить testimonials/reviews
- [x] Обновить CTA секцию
- [x] **Рефакторинг выполнен:** Проверена консистентность стилей

---

## Фаза 3: Темная тема для страниц задач ✅

### 3.1 Создание задачи (task_create.html) ✅
- [x] Обновить форму с `dark:` классами для inputs
- [x] Обновить labels и помощь (help text)
- [x] Обновить select элементы (включая SVG стрелки)
- [x] Обновить textarea
- [x] Обновить кнопки submit
- [x] **Рефакторинг выполнен:** Inline styles для select оптимизированы

### 3.2 Список задач (tasks_list.html) ✅
- [x] Обновить фильтры (filter cards)
- [x] Обновить task cards
- [x] Обновить пагинацию
- [x] Обновить empty state
- [x] Обновить select элементы в фильтрах
- [x] **Рефакторинг выполнен:** Исправлен дублированный `</h3>` тег

### 3.3 Детали задачи (task_detail.html) ✅
- [x] Обновить карточку задачи
- [x] Обновить секцию сделки (deal)
- [x] Обновить форму отклика (offer form)
- [x] Обновить список откликов
- [x] Обновить кнопки действий
- [x] Исправить контраст текста (`text-slate-400` не должен становиться `dark:text-slate-500`)
- [x] **Рефакторинг выполнен:** Улучшена читаемость в темной теме

### 3.4 Мои задачи (my_tasks.html) ✅
- [x] Обновить page header
- [x] Обновить фильтры
- [x] Обновить task cards
- [x] Обновить empty state
- [x] Обновить select элементы
- [x] **Рефакторинг выполнен:** Проверена консистентность с tasks_list.html

---

## Фаза 4: Темная тема для страниц сделок и откликов ✅

### 4.1 Мои сделки (my_deals.html) ✅
- [x] Проверить текущие стили (используют Bootstrap и CSS variables)
- [x] Применить `dark:` классы к карточкам сделок
- [x] Обновить badges статусов
- [x] Обновить кнопки действий
- [x] Обновить empty state
- [x] **Рефакторинг выполнен:** Проверено на дублирование кода

### 4.2 Мои отклики (my_offers.html) ✅
- [x] Проверить текущие стили (используют Bootstrap и CSS variables)
- [x] Применить `dark:` классы к карточкам откликов
- [x] Обновить badges статусов
- [x] Обновить кнопки действий
- [x] Обновить empty state
- [x] **Рефакторинг выполнен:** Проверена консистентность с my_deals.html

### 4.3 Форма отзыва (review_form.html) ✅
- [x] Проверить текущие стили
- [x] Применить `dark:` классы к форме
- [x] Обновить input поля
- [x] Обновить звезды рейтинга
- [x] Обновить textarea
- [x] Обновить кнопки submit
- [x] **Рефакторинг выполнен:** Оптимизированы стили формы

---

## Фаза 5: Исправление CSS и оптимизация ⏳

### 5.1 Исправление сломанных CSS селекторов ✅
- [x] Исправить селекторы форм (`.dark .form-control`)
- [x] Исправить селекторы alerts (`.dark .alert-info`)
- [x] Исправить селекторы dropdown (`.dark .dropdown-menu`)
- [x] Исправить селекторы pagination (`.dark .page-link`)
- [x] Исправить селекторы scrollbar (`.dark .custom-scrollbar`)
- [x] Исправить селекторы navbar shadow
- [x] Исправить селекторы hover effects
- [x] Исправить селекторы scroll-to-top button
- [x] **Рефакторинг выполнен:** Все CSS селекторы проверены и оптимизированы

### 5.2 Оптимизация переходов ✅
- [x] Убедиться, что transitions применены ко всем элементам
- [x] Проверить `duration-300` на body, nav, cards
- [x] Добавить transitions к пользовательским компонентам
- [x] **Рефакторинг выполнен:** Плавность переходов проверена

### 5.3 Устранение оставшихся lint ошибок ⏳
- [ ] Исправить оставшиеся CSS lint ошибки (если есть)
- [ ] Добавить стандартное свойство `line-clamp` для совместимости
- [ ] Проверить валидность CSS
- [ ] **Рефакторинг:** Запустить CSS validator

---

## Фаза 6: Тестирование и валидация ⏳

### 6.1 Функциональное тестирование ⏳
- [ ] Переключение темы работает на всех страницах
- [ ] Выбор темы сохраняется в localStorage
- [ ] Системные настройки учитываются при первом визите
- [ ] Все формы читаемы и функциональны в темной теме
- [ ] Все карточки корректно отображаются
- [ ] **Рефакторинг:** Создать чек-лист тестирования

### 6.2 Визуальное тестирование ⏳
- [ ] Проверить контраст текста (WCAG AA compliance)
- [ ] Проверить видимость borders и dividers
- [ ] Проверить читаемость badges и labels
- [ ] Проверить hover effects на всех элементах
- [ ] Проверить focus states для доступности
- [ ] **Рефакторинг:** Задокументировать найденные проблемы

### 6.3 Кросс-браузерное тестирование ⏳
- [ ] Chrome/Chromium
- [ ] Firefox
- [ ] Safari
- [ ] Edge
- [ ] Мобильные браузеры (iOS Safari, Chrome Mobile)
- [ ] **Рефакторинг:** Создать отчет о совместимости

### 6.4 Адаптивное тестирование ⏳
- [ ] Desktop (1920px+)
- [ ] Laptop (1366px)
- [ ] Tablet (768px)
- [ ] Mobile (375px, 414px)
- [ ] Проверить theme toggle на мобильных устройствах
- [ ] **Рефакторинг:** Оптимизировать для мобильных устройств

---

## Фаза 7: Документация и финализация ⏳

### 7.1 Документация кода ⏳
- [ ] Добавить комментарии к CSS переменным
- [ ] Документировать JavaScript функции переключения темы
- [ ] Создать README для темной темы в `docs/`
- [ ] **Рефакторинг:** Проверить полноту документации

### 7.2 Руководство пользователя ⏳
- [ ] Создать визуальное руководство по переключению темы
- [ ] Добавить FAQ по темной теме
- [ ] **Рефакторинг:** Проверить понятность инструкций

### 7.3 Финальная проверка ⏳
- [ ] Проверить, что не сломана ни одна существующая функция
- [ ] Проверить производительность (нет ли задержек при переключении)
- [ ] Запустить полный регрессионный тест
- [ ] Code review
- [ ] **Рефакторинг:** Создать финальный отчет

---

## Легенда

- ✅ **Завершено** - пункт выполнен и рефакторинг проведен
- ⏳ **В процессе** - пункт в работе или ожидает начала
- ❌ **Заблокировано** - пункт заблокирован зависимостями
- [x] **Выполнено** - конкретная задача выполнена
- [ ] **Не выполнено** - конкретная задача ожидает выполнения

---

## Прогресс

| Фаза | Статус | Прогресс |
|------|--------|----------|
| Фаза 1: Инфраструктура | ✅ Завершено | 100% |
| Фаза 2: Основные компоненты | ✅ Завершено | 100% |
| Фаза 3: Страницы задач | ✅ Завершено | 100% |
| Фаза 4: Сделки и отклики | ✅ Завершено | 100% |
| Фаза 5: CSS и оптимизация | ⏳ Частично | 60% |
| Фаза 6: Тестирование | ⏳ Не начато | 0% |
| Фаза 7: Документация | ⏳ Не начато | 0% |

**Общий прогресс: 80%**

---

## Критические замечания

1. **Не ломать существующую функциональность** - перед каждым изменением проверять, что оно не влияет на работающие компоненты
2. **Обязательный рефакторинг** - после каждого пункта проводить рефакторинг и проверку кода
3. **Тестирование** - каждое изменение должно быть протестировано вручную
4. **Консистентность** - использовать единый подход к применению `dark:` классов
5. **Производительность** - избегать избыточных CSS правил и JavaScript

---

## Следующие шаги

Ожидается указание от пользователя, какую фазу/пункт начать выполнять.
