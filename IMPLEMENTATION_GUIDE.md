# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π Profimatch

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. AI-–∞–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á (Gemini Service)
- **–§–∞–π–ª**: `backend/marketplace/services/ai_service.py`
- **API endpoint**: `/api/ai/analyze-task/`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: 
  ```javascript
  POST /api/ai/analyze-task/
  {
    "description": "–ù—É–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –∫—Ä–∞–Ω",
    "language": "ru"
  }
  ```
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: –î–æ–±–∞–≤—å—Ç–µ `GEMINI_API_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **PortfolioItem** - –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **Escrow** - —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

### 3. –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–§–∞–π–ª**: `backend/static/js/notifications.js`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `showNotification('–°–æ–æ–±—â–µ–Ω–∏–µ', 'success')`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Django messages –≤ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### 4. AI-–º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
- **–§–∞–π–ª**: `backend/static/js/ai-wizard.js`
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ñ–æ—Ä–º–æ–π —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è –ø–æ—Å–ª–µ AI-–∞–Ω–∞–ª–∏–∑–∞

### 5. –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `settings.py`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RU/UZ
- Middleware –¥–æ–±–∞–≤–ª–µ–Ω

### 6. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ `MEDIA_URL` –∏ `MEDIA_ROOT`
- –§–æ—Ä–º–∞ –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å–æ–∑–¥–∞–Ω–∞

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
cd backend
python manage.py makemigrations
python manage.py migrate
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ Render:
```
GEMINI_API_KEY=your_gemini_api_key_here
```

### 4. –û–±–Ω–æ–≤–∏—Ç—å admin.py
–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤ –∞–¥–º–∏–Ω–∫—É:
```python
from .models import PortfolioItem, Escrow

admin.site.register(PortfolioItem)
admin.site.register(Escrow)
```

### 5. –°–æ–∑–¥–∞—Ç—å views –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- View –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- View –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- View –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞

### 6. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Escrow –≤ Deal views
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Deal —Å–æ–∑–¥–∞–≤–∞—Ç—å Escrow
- –ü—Ä–∏ –æ–ø–ª–∞—Ç–µ Deal —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ Deal –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞

### 7. –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –≤ –ø—Ä–æ—Ñ–∏–ª—å
- –î–æ–±–∞–≤–∏—Ç—å AI-–∫–Ω–æ–ø–∫—É –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
- –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤ –≤ –Ω–∞–≤–±–∞—Ä

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

1. **–ú–∏–≥—Ä–∞—Ü–∏–∏** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π
2. **Admin —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
3. **Views –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ** - –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Escrow** - –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤** - –¥–ª—è UI

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### AI-–∞–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏
```python
from marketplace.services.ai_service import analyze_task_description

result = analyze_task_description("–ù—É–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –∫—Ä–∞–Ω –Ω–∞ –∫—É—Ö–Ω–µ", "ru")
if result:
    print(result.suggested_title)  # "–†–µ–º–æ–Ω—Ç –∫—Ä–∞–Ω–∞ –Ω–∞ –∫—É—Ö–Ω–µ"
    print(result.suggested_category)  # "–†–µ–º–æ–Ω—Ç"
```

### –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```javascript
showNotification('–ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
showNotification('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞', 'error');
```

### –°–æ–∑–¥–∞–Ω–∏–µ Escrow
```python
from marketplace.models import Escrow, Deal

deal = Deal.objects.get(id=1)
escrow = Escrow.objects.create(
    deal=deal,
    amount=deal.final_price
)
escrow.reserve()  # –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º —Å—Ä–µ–¥—Å—Ç–≤–∞
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Gemini API Key
1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ https://makersuite.google.com/app/apikey
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`: `GEMINI_API_KEY=your_key`
3. –ò–ª–∏ –≤ Render: Environment Variables ‚Üí `GEMINI_API_KEY`

### –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã
–í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ S3 –∏–ª–∏ –¥—Ä—É–≥–æ–π storage:
```python
# settings.py
DEFAULT_FILE_STORAGE = 'storages.backends.s3boto3.S3Boto3Storage'
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Django i18n](https://docs.djangoproject.com/en/4.2/topics/i18n/)
- [Google Gemini API](https://ai.google.dev/docs)
- [Django File Uploads](https://docs.djangoproject.com/en/4.2/topics/files/)

